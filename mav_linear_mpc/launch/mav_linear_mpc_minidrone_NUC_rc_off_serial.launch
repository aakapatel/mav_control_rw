<launch>
  <arg name="mav_name" default="minidrone_NUC" />
  <arg name="namespace" default="quad1"/>
  
  <group ns="$(arg namespace)">
    <node name="mav_linear_mpc" pkg="mav_linear_mpc" type="mav_linear_mpc_node"  respawn="false" clear_params="true" output="screen">
      <remap from="odometry" to="msf_core/odometry" />
      <rosparam file="$(find mav_linear_mpc)/resources/linear_mpc_$(arg mav_name).yaml"/>
      <rosparam file="$(find mav_disturbance_observer)/resources/disturbance_observer_$(arg mav_name).yaml"/>
      <param name="use_rc_teleop" value="false" />
      <param name="verbose" value="true" />
    </node>
    
    <node name="command_converter_serial" pkg="mav_control_interface" type="command_converter_serial" output="screen">
      <param name="odometry_topic" value="msf_core/odometry" />  
      <param name="attitude_thrust_quad1_topic" value="/quad1/command/attitude_thrust" />
      <param name="attitude_thrust_quad2_topic" value="/quad2/command/attitude_thrust" />       
      <param name="rpyrate_thrust_topic" value="command/roll_pitch_yawrate_thrust" /> 
      <param name="quad1_encoder_topic" value="/quad1/encoder" />      
      <param name="joint1_x_offset" value="-0.17"/>
      <param name="joint1_y_offset" value="0.0"/>
      <param name="joint1_z_offset" value="0.0"/>
      <param name="joint2_x_offset" value="0.17"/>
      <param name="joint2_y_offset" value="0.0"/>
      <param name="joint2_z_offset" value="0.0"/>         
    </node>
    
  </group>
</launch>
